{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "RITAIam": {
        "id": "RITAIam",
        "path": "RITAIam",
        "children": {
          "RITAExecutorRole": {
            "id": "RITAExecutorRole",
            "path": "RITAIam/RITAExecutorRole",
            "children": {
              "ImportRITAExecutorRole": {
                "id": "ImportRITAExecutorRole",
                "path": "RITAIam/RITAExecutorRole/ImportRITAExecutorRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAIam/RITAExecutorRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "lambda.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                          ]
                        ]
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.150.0"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "RITAIam/RITAExecutorRole/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAIam/RITAExecutorRole/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "ec2:StopInstances",
                                "ec2:StartInstances",
                                "ec2:ModifyInstanceAttribute",
                                "autoscaling:PutScheduledUpdateGroupAction",
                                "s3:PutLifecycleConfiguration",
                                "s3:GetLifecycleConfiguration",
                                "rds:StopDBInstance",
                                "rds:StartDBInstance",
                                "rds:ModifyDBInstance",
                                "eks:UpdateNodegroupConfig",
                                "eks:DescribeNodegroup"
                              ],
                              "Condition": {
                                "StringEquals": {
                                  "aws:ResourceTag/project": "rita"
                                }
                              },
                              "Effect": "Allow",
                              "Resource": "*"
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "RITAExecutorRoleDefaultPolicy548072F2",
                        "roles": [
                          {
                            "Ref": "RITAExecutorRole9BA8CFFF"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.150.0"
            }
          },
          "RITAReadOnlyRole": {
            "id": "RITAReadOnlyRole",
            "path": "RITAIam/RITAReadOnlyRole",
            "children": {
              "ImportRITAReadOnlyRole": {
                "id": "ImportRITAReadOnlyRole",
                "path": "RITAIam/RITAReadOnlyRole/ImportRITAReadOnlyRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAIam/RITAReadOnlyRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "lambda.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                          ]
                        ]
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.150.0"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "RITAIam/RITAReadOnlyRole/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAIam/RITAReadOnlyRole/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "ce:*",
                                "athena:*",
                                "glue:*",
                                "s3:Get*",
                                "s3:List*",
                                "compute-optimizer:*",
                                "budgets:View*",
                                "tag:Get*",
                                "cloudwatch:GetMetricData",
                                "cloudwatch:ListMetrics",
                                "rds:Describe*",
                                "eks:List*",
                                "eks:Describe*"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "RITAReadOnlyRoleDefaultPolicy5111EBA3",
                        "roles": [
                          {
                            "Ref": "RITAReadOnlyRole45AABC22"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.150.0"
            }
          },
          "ExecutorRoleArn": {
            "id": "ExecutorRoleArn",
            "path": "RITAIam/ExecutorRoleArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "ReadOnlyRoleArn": {
            "id": "ReadOnlyRoleArn",
            "path": "RITAIam/ReadOnlyRoleArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "RITAIam/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAIam/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.5"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "RITAIam/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.150.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "RITAIam/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.150.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.150.0"
        }
      },
      "RITAApi": {
        "id": "RITAApi",
        "path": "RITAApi",
        "children": {
          "ApiLambdaRepo": {
            "id": "ApiLambdaRepo",
            "path": "RITAApi/ApiLambdaRepo",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/ApiLambdaRepo/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ECR::Repository",
                  "aws:cdk:cloudformation:props": {
                    "emptyOnDelete": true,
                    "imageScanningConfiguration": {
                      "scanOnPush": true
                    },
                    "repositoryPolicyText": {
                      "Statement": [
                        {
                          "Action": [
                            "ecr:BatchCheckLayerAvailability",
                            "ecr:GetDownloadUrlForLayer",
                            "ecr:BatchGetImage"
                          ],
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "lambda.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ecr.CfnRepository",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ecr.Repository",
              "version": "2.150.0"
            }
          },
          "ApiImageSrc": {
            "id": "ApiImageSrc",
            "path": "RITAApi/ApiImageSrc",
            "children": {
              "Stage": {
                "id": "Stage",
                "path": "RITAApi/ApiImageSrc/Stage",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.150.0"
                }
              },
              "AssetBucket": {
                "id": "AssetBucket",
                "path": "RITAApi/ApiImageSrc/AssetBucket",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
              "version": "2.150.0"
            }
          },
          "ApiImageBuild": {
            "id": "ApiImageBuild",
            "path": "RITAApi/ApiImageBuild",
            "children": {
              "Role": {
                "id": "Role",
                "path": "RITAApi/ApiImageBuild/Role",
                "children": {
                  "ImportRole": {
                    "id": "ImportRole",
                    "path": "RITAApi/ApiImageBuild/Role/ImportRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/ApiImageBuild/Role/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "codebuild.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAApi/ApiImageBuild/Role/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/ApiImageBuild/Role/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "logs:CreateLogGroup",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "ApiImageBuild53994DE8"
                                          }
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "ApiImageBuild53994DE8"
                                          },
                                          ":*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "codebuild:CreateReportGroup",
                                    "codebuild:CreateReport",
                                    "codebuild:UpdateReport",
                                    "codebuild:BatchPutTestCases",
                                    "codebuild:BatchPutCodeCoverages"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":codebuild:eu-central-1:542508027791:report-group/",
                                        {
                                          "Ref": "ApiImageBuild53994DE8"
                                        },
                                        "-*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:GetObject*",
                                    "s3:GetBucket*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1"
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "ecr:BatchCheckLayerAvailability",
                                    "ecr:GetDownloadUrlForLayer",
                                    "ecr:BatchGetImage",
                                    "ecr:CompleteLayerUpload",
                                    "ecr:UploadLayerPart",
                                    "ecr:InitiateLayerUpload",
                                    "ecr:PutImage"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "ApiLambdaRepoCAEE321E",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "ecr:GetAuthorizationToken",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "ApiImageBuildRoleDefaultPolicy78F89BAC",
                            "roles": [
                              {
                                "Ref": "ApiImageBuildRole27E7F2D7"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/ApiImageBuild/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CodeBuild::Project",
                  "aws:cdk:cloudformation:props": {
                    "artifacts": {
                      "type": "NO_ARTIFACTS"
                    },
                    "cache": {
                      "type": "NO_CACHE"
                    },
                    "encryptionKey": "alias/aws/s3",
                    "environment": {
                      "type": "LINUX_CONTAINER",
                      "image": "aws/codebuild/amazonlinux2-x86_64-standard:5.0",
                      "imagePullCredentialsType": "CODEBUILD",
                      "privilegedMode": true,
                      "computeType": "BUILD_GENERAL1_SMALL",
                      "environmentVariables": [
                        {
                          "name": "REPO_URI",
                          "type": "PLAINTEXT",
                          "value": {
                            "Fn::Join": [
                              "",
                              [
                                {
                                  "Fn::Select": [
                                    4,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "ApiLambdaRepoCAEE321E",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".dkr.ecr.",
                                {
                                  "Fn::Select": [
                                    3,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "ApiLambdaRepoCAEE321E",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".",
                                {
                                  "Ref": "AWS::URLSuffix"
                                },
                                "/",
                                {
                                  "Ref": "ApiLambdaRepoCAEE321E"
                                }
                              ]
                            ]
                          }
                        },
                        {
                          "name": "IMAGE_TAG",
                          "type": "PLAINTEXT",
                          "value": "7948fafddcf016e67485ff14bc81bf0ef75aecfc55c7a6f944a182d996ff45a7"
                        },
                        {
                          "name": "SRC_BUCKET",
                          "type": "PLAINTEXT",
                          "value": "cdk-hnb659fds-assets-542508027791-eu-central-1"
                        },
                        {
                          "name": "SRC_KEY",
                          "type": "PLAINTEXT",
                          "value": "7948fafddcf016e67485ff14bc81bf0ef75aecfc55c7a6f944a182d996ff45a7.zip"
                        },
                        {
                          "name": "AWS_REGION",
                          "type": "PLAINTEXT",
                          "value": "eu-central-1"
                        }
                      ]
                    },
                    "serviceRole": {
                      "Fn::GetAtt": [
                        "ApiImageBuildRole27E7F2D7",
                        "Arn"
                      ]
                    },
                    "source": {
                      "type": "NO_SOURCE",
                      "buildSpec": "{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $REPO_URI\",\n        \"aws s3 cp s3://$SRC_BUCKET/$SRC_KEY src.zip\",\n        \"mkdir -p src && unzip -q src.zip -d src && cd src\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"docker build -f Dockerfile.api -t $REPO_URI:$IMAGE_TAG .\",\n        \"docker push $REPO_URI:$IMAGE_TAG\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"**/*\"\n    ],\n    \"discard-paths\": \"yes\"\n  }\n}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codebuild.CfnProject",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_codebuild.Project",
              "version": "2.150.0"
            }
          },
          "ApiImageBuildTrigger": {
            "id": "ApiImageBuildTrigger",
            "path": "RITAApi/ApiImageBuildTrigger",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "RITAApi/ApiImageBuildTrigger/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "RITAApi/ApiImageBuildTrigger/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/ApiImageBuildTrigger/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAApi/ApiImageBuildTrigger/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/ApiImageBuildTrigger/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "codebuild:StartBuild",
                                    "codebuild:BatchGetBuilds"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "ApiImageBuild53994DE8",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "ecr:DescribeImages",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "ApiLambdaRepoCAEE321E",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "ApiImageBuildTriggerServiceRoleDefaultPolicyB25EB8C7",
                            "roles": [
                              {
                                "Ref": "ApiImageBuildTriggerServiceRoleDC7DB6B5"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/ApiImageBuildTrigger/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "zipFile": "import boto3, os, time\ncb = boto3.client('codebuild')\necr = boto3.client('ecr')\ndef handler(event, context):\n    project = os.environ['PROJECT']\n    repo_name = os.environ['REPO_NAME']\n    image_tag = os.environ['IMAGE_TAG']\n    physical_id = f'ApiImageBuild-{image_tag}'\n    if event.get('RequestType') == 'Delete':\n        return {'PhysicalResourceId': event.get('PhysicalResourceId', physical_id), 'Data': {}}\n    resp = cb.start_build(projectName=project)\n    build_id = resp.get('build', {}).get('id')\n    if not build_id:\n        raise Exception('Failed to start CodeBuild build')\n    while True:\n        time.sleep(5)\n        res = cb.batch_get_builds(ids=[build_id])\n        b = (res.get('builds') or [{}])[0]\n        status = b.get('buildStatus')\n        if status in ('SUCCEEDED', 'FAILED', 'FAULT', 'STOPPED', 'TIMED_OUT'):\n            if status != 'SUCCEEDED':\n                raise Exception(f'Build {build_id} failed: {status}')\n            break\n    for _ in range(60):\n        try:\n            ecr.describe_images(repositoryName=repo_name, imageIds=[{'imageTag': image_tag}])\n            break\n        except Exception:\n            time.sleep(2)\n    return {'PhysicalResourceId': physical_id, 'Data': {'ImageTag': image_tag}}"
                    },
                    "environment": {
                      "variables": {
                        "PROJECT": {
                          "Ref": "ApiImageBuild53994DE8"
                        },
                        "REPO_NAME": {
                          "Ref": "ApiLambdaRepoCAEE321E"
                        },
                        "IMAGE_TAG": "7948fafddcf016e67485ff14bc81bf0ef75aecfc55c7a6f944a182d996ff45a7"
                      }
                    },
                    "handler": "index.handler",
                    "role": {
                      "Fn::GetAtt": [
                        "ApiImageBuildTriggerServiceRoleDC7DB6B5",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.12",
                    "timeout": 900
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.150.0"
            }
          },
          "ApiImageBuildProvider": {
            "id": "ApiImageBuildProvider",
            "path": "RITAApi/ApiImageBuildProvider",
            "children": {
              "framework-onEvent": {
                "id": "framework-onEvent",
                "path": "RITAApi/ApiImageBuildProvider/framework-onEvent",
                "children": {
                  "ServiceRole": {
                    "id": "ServiceRole",
                    "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/ServiceRole",
                    "children": {
                      "ImportServiceRole": {
                        "id": "ImportServiceRole",
                        "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/ServiceRole/ImportServiceRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/ServiceRole/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "lambda.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "managedPolicyArns": [
                              {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                  ]
                                ]
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.150.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/ServiceRole/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "lambda:InvokeFunction",
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "ApiImageBuildTrigger9F9BDF25",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "ApiImageBuildTrigger9F9BDF25",
                                                  "Arn"
                                                ]
                                              },
                                              ":*"
                                            ]
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "ApiImageBuildProviderframeworkonEventServiceRoleDefaultPolicyA090CBE0",
                                "roles": [
                                  {
                                    "Ref": "ApiImageBuildProviderframeworkonEventServiceRole1C5CF09D"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.150.0"
                    }
                  },
                  "Code": {
                    "id": "Code",
                    "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.150.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/ApiImageBuildProvider/framework-onEvent/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-542508027791-eu-central-1",
                          "s3Key": "d9861ea7a45affd23e47a614acb2fddc6e45c20a891284c958187dafbf9ee36b.zip"
                        },
                        "description": "AWS CDK resource provider framework - onEvent (RITAApi/ApiImageBuildProvider)",
                        "environment": {
                          "variables": {
                            "USER_ON_EVENT_FUNCTION_ARN": {
                              "Fn::GetAtt": [
                                "ApiImageBuildTrigger9F9BDF25",
                                "Arn"
                              ]
                            }
                          }
                        },
                        "handler": "framework.onEvent",
                        "role": {
                          "Fn::GetAtt": [
                            "ApiImageBuildProviderframeworkonEventServiceRole1C5CF09D",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs20.x",
                        "timeout": 900
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.Function",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.custom_resources.Provider",
              "version": "2.150.0"
            }
          },
          "BuildApiImage": {
            "id": "BuildApiImage",
            "path": "RITAApi/BuildApiImage",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAApi/BuildApiImage/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResource",
              "version": "2.150.0"
            }
          },
          "RITAApiFn": {
            "id": "RITAApiFn",
            "path": "RITAApi/RITAApiFn",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "RITAApi/RITAApiFn/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "RITAApi/RITAApiFn/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/RITAApiFn/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAApi/RITAApiFn/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/RITAApiFn/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "ssm:GetParameter",
                                    "ssm:GetParameters",
                                    "ssm:GetParameterHistory"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    "arn:aws:ssm:eu-central-1:542508027791:parameter/rita/agentcore/*",
                                    "arn:aws:ssm:eu-central-1:542508027791:parameter/rita/workflow-agent/*"
                                  ]
                                },
                                {
                                  "Action": "lambda:InvokeFunction",
                                  "Effect": "Allow",
                                  "Resource": "arn:aws:lambda:eu-central-1:542508027791:function:RITAApi-RITAApiFn*"
                                },
                                {
                                  "Action": "bedrock-agentcore:InvokeAgentRuntime",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "bedrock-agentcore:GetAgentRuntimeEndpoint",
                                    "bedrock-agentcore:ListAgentRuntimeEndpoints"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "ce:GetCostAndUsage",
                                    "ce:GetCostForecast",
                                    "ce:GetSavingsPlansCoverage",
                                    "ce:GetReservationCoverage",
                                    "ce:GetAnomalies"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "compute-optimizer:GetEC2InstanceRecommendations",
                                    "compute-optimizer:GetAutoScalingGroupRecommendations",
                                    "compute-optimizer:GetEBSVolumeRecommendations",
                                    "compute-optimizer:GetRDSInstanceRecommendations",
                                    "compute-optimizer:GetLambdaFunctionRecommendations"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "ec2:DescribeInstances",
                                    "ec2:DescribeVolumes",
                                    "ec2:DescribeInstanceStatus",
                                    "ec2:StopInstances",
                                    "ec2:StartInstances",
                                    "ec2:ModifyInstanceAttribute",
                                    "ec2:ModifyVolume",
                                    "autoscaling:DescribeAutoScalingGroups",
                                    "autoscaling:DescribeLaunchConfigurations",
                                    "lambda:ListFunctions",
                                    "lambda:ListProvisionedConcurrencyConfigs",
                                    "lambda:GetProvisionedConcurrencyConfig",
                                    "lambda:GetFunctionConfiguration",
                                    "lambda:PutFunctionConcurrency",
                                    "lambda:UpdateFunctionConfiguration",
                                    "rds:DescribeDBInstances",
                                    "rds:ModifyDBInstance",
                                    "s3:ListAllMyBuckets",
                                    "s3:GetLifecycleConfiguration",
                                    "s3:PutLifecycleConfiguration",
                                    "cloudwatch:GetMetricStatistics",
                                    "cloudwatch:PutMetricData"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "scheduler:CreateSchedule",
                                    "scheduler:UpdateSchedule",
                                    "scheduler:DeleteSchedule",
                                    "scheduler:GetSchedule"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "RITAApiFnServiceRoleDefaultPolicy40869C66",
                            "roles": [
                              {
                                "Ref": "RITAApiFnServiceRoleECB85610"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/RITAApiFn/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "architectures": [
                      "x86_64"
                    ],
                    "code": {
                      "imageUri": {
                        "Fn::Join": [
                          "",
                          [
                            {
                              "Fn::Select": [
                                4,
                                {
                                  "Fn::Split": [
                                    ":",
                                    {
                                      "Fn::GetAtt": [
                                        "ApiLambdaRepoCAEE321E",
                                        "Arn"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            ".dkr.ecr.",
                            {
                              "Fn::Select": [
                                3,
                                {
                                  "Fn::Split": [
                                    ":",
                                    {
                                      "Fn::GetAtt": [
                                        "ApiLambdaRepoCAEE321E",
                                        "Arn"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            ".",
                            {
                              "Ref": "AWS::URLSuffix"
                            },
                            "/",
                            {
                              "Ref": "ApiLambdaRepoCAEE321E"
                            },
                            ":",
                            {
                              "Fn::GetAtt": [
                                "BuildApiImage",
                                "ImageTag"
                              ]
                            }
                          ]
                        ]
                      }
                    },
                    "environment": {
                      "variables": {
                        "AGENTCORE_ID_PARAM": "/rita/agentcore/id",
                        "AGENTCORE_ALIAS_PARAM": "/rita/agentcore/alias",
                        "AGENTCORE_INVOKE_PARAM": "/rita/agentcore/invoke-arn",
                        "AGENTCORE_ROLE_PARAM": "/rita/agentcore/role-arn"
                      }
                    },
                    "memorySize": 512,
                    "packageType": "Image",
                    "role": {
                      "Fn::GetAtt": [
                        "RITAApiFnServiceRoleECB85610",
                        "Arn"
                      ]
                    },
                    "timeout": 300
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.DockerImageFunction",
              "version": "2.150.0"
            }
          },
          "RITAApiGateway": {
            "id": "RITAApiGateway",
            "path": "RITAApi/RITAApiGateway",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/RITAApiGateway/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::RestApi",
                  "aws:cdk:cloudformation:props": {
                    "name": "RITAApi"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnRestApi",
                  "version": "2.150.0"
                }
              },
              "CloudWatchRole": {
                "id": "CloudWatchRole",
                "path": "RITAApi/RITAApiGateway/CloudWatchRole",
                "children": {
                  "ImportCloudWatchRole": {
                    "id": "ImportCloudWatchRole",
                    "path": "RITAApi/RITAApiGateway/CloudWatchRole/ImportCloudWatchRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/RITAApiGateway/CloudWatchRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "apigateway.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Account": {
                "id": "Account",
                "path": "RITAApi/RITAApiGateway/Account",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Account",
                  "aws:cdk:cloudformation:props": {
                    "cloudWatchRoleArn": {
                      "Fn::GetAtt": [
                        "RITAApiGatewayCloudWatchRole14775921",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnAccount",
                  "version": "2.150.0"
                }
              },
              "Deployment": {
                "id": "Deployment",
                "path": "RITAApi/RITAApiGateway/Deployment",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/RITAApiGateway/Deployment/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Deployment",
                      "aws:cdk:cloudformation:props": {
                        "description": "Automatically created by the RestApi construct",
                        "restApiId": {
                          "Ref": "RITAApiGateway5FE42108"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.CfnDeployment",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.Deployment",
                  "version": "2.150.0"
                }
              },
              "DeploymentStage.prod": {
                "id": "DeploymentStage.prod",
                "path": "RITAApi/RITAApiGateway/DeploymentStage.prod",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAApi/RITAApiGateway/DeploymentStage.prod/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Stage",
                      "aws:cdk:cloudformation:props": {
                        "deploymentId": {
                          "Ref": "RITAApiGatewayDeployment47B42072a8d5c9a68a283ca09b76f94f2bce053c"
                        },
                        "restApiId": {
                          "Ref": "RITAApiGateway5FE42108"
                        },
                        "stageName": "prod"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.CfnStage",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.Stage",
                  "version": "2.150.0"
                }
              },
              "Endpoint": {
                "id": "Endpoint",
                "path": "RITAApi/RITAApiGateway/Endpoint",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.150.0"
                }
              },
              "Default": {
                "id": "Default",
                "path": "RITAApi/RITAApiGateway/Default",
                "children": {
                  "v1": {
                    "id": "v1",
                    "path": "RITAApi/RITAApiGateway/Default/v1",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/RITAApiGateway/Default/v1/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "RITAApiGateway5FE42108",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "v1",
                            "restApiId": {
                              "Ref": "RITAApiGateway5FE42108"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.150.0"
                        }
                      },
                      "chat": {
                        "id": "chat",
                        "path": "RITAApi/RITAApiGateway/Default/v1/chat",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/RITAApiGateway/Default/v1/chat/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "RITAApiGatewayv18DD59987"
                                },
                                "pathPart": "chat",
                                "restApiId": {
                                  "Ref": "RITAApiGateway5FE42108"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.150.0"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "RITAApi/RITAApiGateway/Default/v1/chat/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/chat/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1chat19125C91"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          },
                          "POST": {
                            "id": "POST",
                            "path": "RITAApi/RITAApiGateway/Default/v1/chat/POST",
                            "children": {
                              "ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.chat": {
                                "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.chat",
                                "path": "RITAApi/RITAApiGateway/Default/v1/chat/POST/ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.chat",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/",
                                          {
                                            "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                          },
                                          "/POST/v1/chat"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.chat": {
                                "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.chat",
                                "path": "RITAApi/RITAApiGateway/Default/v1/chat/POST/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.chat",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/test-invoke-stage/POST/v1/chat"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/chat/POST/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "POST",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "RITAApiFn455ED49C",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1chat19125C91"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "analyze": {
                        "id": "analyze",
                        "path": "RITAApi/RITAApiGateway/Default/v1/analyze",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/RITAApiGateway/Default/v1/analyze/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "RITAApiGatewayv18DD59987"
                                },
                                "pathPart": "analyze",
                                "restApiId": {
                                  "Ref": "RITAApiGateway5FE42108"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.150.0"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "RITAApi/RITAApiGateway/Default/v1/analyze/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/analyze/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'GET,OPTIONS'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1analyze471F6DED"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          },
                          "GET": {
                            "id": "GET",
                            "path": "RITAApi/RITAApiGateway/Default/v1/analyze/GET",
                            "children": {
                              "ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze": {
                                "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze",
                                "path": "RITAApi/RITAApiGateway/Default/v1/analyze/GET/ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/",
                                          {
                                            "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                          },
                                          "/GET/v1/analyze"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze": {
                                "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze",
                                "path": "RITAApi/RITAApiGateway/Default/v1/analyze/GET/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.analyze",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/test-invoke-stage/GET/v1/analyze"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/analyze/GET/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "GET",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "RITAApiFn455ED49C",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1analyze471F6DED"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "recommend": {
                        "id": "recommend",
                        "path": "RITAApi/RITAApiGateway/Default/v1/recommend",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/RITAApiGateway/Default/v1/recommend/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "RITAApiGatewayv18DD59987"
                                },
                                "pathPart": "recommend",
                                "restApiId": {
                                  "Ref": "RITAApiGateway5FE42108"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.150.0"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "RITAApi/RITAApiGateway/Default/v1/recommend/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/recommend/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'GET,OPTIONS'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1recommend5F0401FC"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          },
                          "GET": {
                            "id": "GET",
                            "path": "RITAApi/RITAApiGateway/Default/v1/recommend/GET",
                            "children": {
                              "ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend": {
                                "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend",
                                "path": "RITAApi/RITAApiGateway/Default/v1/recommend/GET/ApiPermission.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/",
                                          {
                                            "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                          },
                                          "/GET/v1/recommend"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend": {
                                "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend",
                                "path": "RITAApi/RITAApiGateway/Default/v1/recommend/GET/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.GET..v1.recommend",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/test-invoke-stage/GET/v1/recommend"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/recommend/GET/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "GET",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "RITAApiFn455ED49C",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1recommend5F0401FC"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "automation": {
                        "id": "automation",
                        "path": "RITAApi/RITAApiGateway/Default/v1/automation",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/RITAApiGateway/Default/v1/automation/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "RITAApiGatewayv18DD59987"
                                },
                                "pathPart": "automation",
                                "restApiId": {
                                  "Ref": "RITAApiGateway5FE42108"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.150.0"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "RITAApi/RITAApiGateway/Default/v1/automation/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/automation/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1automation4AD26F7A"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          },
                          "POST": {
                            "id": "POST",
                            "path": "RITAApi/RITAApiGateway/Default/v1/automation/POST",
                            "children": {
                              "ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.automation": {
                                "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.automation",
                                "path": "RITAApi/RITAApiGateway/Default/v1/automation/POST/ApiPermission.RITAApiRITAApiGateway6E112C5C.POST..v1.automation",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/",
                                          {
                                            "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                          },
                                          "/POST/v1/automation"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.automation": {
                                "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.automation",
                                "path": "RITAApi/RITAApiGateway/Default/v1/automation/POST/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.POST..v1.automation",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:eu-central-1:542508027791:",
                                          {
                                            "Ref": "RITAApiGateway5FE42108"
                                          },
                                          "/test-invoke-stage/POST/v1/automation"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.150.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "RITAApi/RITAApiGateway/Default/v1/automation/POST/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "POST",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "RITAApiFn455ED49C",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "RITAApiGatewayv1automation4AD26F7A"
                                    },
                                    "restApiId": {
                                      "Ref": "RITAApiGateway5FE42108"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.150.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "{proxy+}": {
                    "id": "{proxy+}",
                    "path": "RITAApi/RITAApiGateway/Default/{proxy+}",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/RITAApiGateway/Default/{proxy+}/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "RITAApiGateway5FE42108",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "{proxy+}",
                            "restApiId": {
                              "Ref": "RITAApiGateway5FE42108"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.150.0"
                        }
                      },
                      "ANY": {
                        "id": "ANY",
                        "path": "RITAApi/RITAApiGateway/Default/{proxy+}/ANY",
                        "children": {
                          "ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}": {
                            "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}",
                            "path": "RITAApi/RITAApiGateway/Default/{proxy+}/ANY/ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "RITAApiFn455ED49C",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:eu-central-1:542508027791:",
                                      {
                                        "Ref": "RITAApiGateway5FE42108"
                                      },
                                      "/",
                                      {
                                        "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                      },
                                      "/*/*"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.150.0"
                            }
                          },
                          "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}": {
                            "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}",
                            "path": "RITAApi/RITAApiGateway/Default/{proxy+}/ANY/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..{proxy+}",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "RITAApiFn455ED49C",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:eu-central-1:542508027791:",
                                      {
                                        "Ref": "RITAApiGateway5FE42108"
                                      },
                                      "/test-invoke-stage/*/*"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.150.0"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAApi/RITAApiGateway/Default/{proxy+}/ANY/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": true,
                                "authorizationType": "NONE",
                                "httpMethod": "ANY",
                                "integration": {
                                  "type": "AWS_PROXY",
                                  "uri": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                        {
                                          "Fn::GetAtt": [
                                            "RITAApiFn455ED49C",
                                            "Arn"
                                          ]
                                        },
                                        "/invocations"
                                      ]
                                    ]
                                  },
                                  "integrationHttpMethod": "POST"
                                },
                                "resourceId": {
                                  "Ref": "RITAApiGatewayproxyF913D4CA"
                                },
                                "restApiId": {
                                  "Ref": "RITAApiGateway5FE42108"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.ProxyResource",
                      "version": "2.150.0"
                    }
                  },
                  "ANY": {
                    "id": "ANY",
                    "path": "RITAApi/RITAApiGateway/Default/ANY",
                    "children": {
                      "ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..": {
                        "id": "ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..",
                        "path": "RITAApi/RITAApiGateway/Default/ANY/ApiPermission.RITAApiRITAApiGateway6E112C5C.ANY..",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                          "aws:cdk:cloudformation:props": {
                            "action": "lambda:InvokeFunction",
                            "functionName": {
                              "Fn::GetAtt": [
                                "RITAApiFn455ED49C",
                                "Arn"
                              ]
                            },
                            "principal": "apigateway.amazonaws.com",
                            "sourceArn": {
                              "Fn::Join": [
                                "",
                                [
                                  "arn:",
                                  {
                                    "Ref": "AWS::Partition"
                                  },
                                  ":execute-api:eu-central-1:542508027791:",
                                  {
                                    "Ref": "RITAApiGateway5FE42108"
                                  },
                                  "/",
                                  {
                                    "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                                  },
                                  "/*/"
                                ]
                              ]
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                          "version": "2.150.0"
                        }
                      },
                      "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..": {
                        "id": "ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..",
                        "path": "RITAApi/RITAApiGateway/Default/ANY/ApiPermission.Test.RITAApiRITAApiGateway6E112C5C.ANY..",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                          "aws:cdk:cloudformation:props": {
                            "action": "lambda:InvokeFunction",
                            "functionName": {
                              "Fn::GetAtt": [
                                "RITAApiFn455ED49C",
                                "Arn"
                              ]
                            },
                            "principal": "apigateway.amazonaws.com",
                            "sourceArn": {
                              "Fn::Join": [
                                "",
                                [
                                  "arn:",
                                  {
                                    "Ref": "AWS::Partition"
                                  },
                                  ":execute-api:eu-central-1:542508027791:",
                                  {
                                    "Ref": "RITAApiGateway5FE42108"
                                  },
                                  "/test-invoke-stage/*/"
                                ]
                              ]
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAApi/RITAApiGateway/Default/ANY/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                          "aws:cdk:cloudformation:props": {
                            "apiKeyRequired": true,
                            "authorizationType": "NONE",
                            "httpMethod": "ANY",
                            "integration": {
                              "type": "AWS_PROXY",
                              "uri": {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":apigateway:eu-central-1:lambda:path/2015-03-31/functions/",
                                    {
                                      "Fn::GetAtt": [
                                        "RITAApiFn455ED49C",
                                        "Arn"
                                      ]
                                    },
                                    "/invocations"
                                  ]
                                ]
                              },
                              "integrationHttpMethod": "POST"
                            },
                            "resourceId": {
                              "Fn::GetAtt": [
                                "RITAApiGateway5FE42108",
                                "RootResourceId"
                              ]
                            },
                            "restApiId": {
                              "Ref": "RITAApiGateway5FE42108"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.ResourceBase",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_apigateway.LambdaRestApi",
              "version": "2.150.0"
            }
          },
          "RITAApiKey": {
            "id": "RITAApiKey",
            "path": "RITAApi/RITAApiKey",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/RITAApiKey/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::ApiKey",
                  "aws:cdk:cloudformation:props": {
                    "enabled": true,
                    "value": "ecab9d62dec87b53fdafdb53542d7ae0"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnApiKey",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_apigateway.ApiKey",
              "version": "2.150.0"
            }
          },
          "RITAUsagePlan": {
            "id": "RITAUsagePlan",
            "path": "RITAApi/RITAUsagePlan",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAApi/RITAUsagePlan/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::UsagePlan",
                  "aws:cdk:cloudformation:props": {
                    "apiStages": [
                      {
                        "apiId": {
                          "Ref": "RITAApiGateway5FE42108"
                        },
                        "stage": {
                          "Ref": "RITAApiGatewayDeploymentStageprod7E03EB91"
                        },
                        "throttle": {}
                      }
                    ],
                    "throttle": {
                      "burstLimit": 10,
                      "rateLimit": 50
                    },
                    "usagePlanName": "RITAPlan"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnUsagePlan",
                  "version": "2.150.0"
                }
              },
              "UsagePlanKeyResource:RITAApiRITAApiKey2D2B9DD2": {
                "id": "UsagePlanKeyResource:RITAApiRITAApiKey2D2B9DD2",
                "path": "RITAApi/RITAUsagePlan/UsagePlanKeyResource:RITAApiRITAApiKey2D2B9DD2",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::UsagePlanKey",
                  "aws:cdk:cloudformation:props": {
                    "keyId": {
                      "Ref": "RITAApiKey59D165EB"
                    },
                    "keyType": "API_KEY",
                    "usagePlanId": {
                      "Ref": "RITAUsagePlanE2747DE0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnUsagePlanKey",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_apigateway.UsagePlan",
              "version": "2.150.0"
            }
          },
          "ApiUrl": {
            "id": "ApiUrl",
            "path": "RITAApi/ApiUrl",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "ApiKey": {
            "id": "ApiKey",
            "path": "RITAApi/ApiKey",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "RITAApi/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAApi/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.5"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "RITAApi/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.150.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "RITAApi/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.150.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.150.0"
        }
      },
      "RITAAgentCore": {
        "id": "RITAAgentCore",
        "path": "RITAAgentCore",
        "children": {
          "RITAAgentCoreRole": {
            "id": "RITAAgentCoreRole",
            "path": "RITAAgentCore/RITAAgentCoreRole",
            "children": {
              "ImportRITAAgentCoreRole": {
                "id": "ImportRITAAgentCoreRole",
                "path": "RITAAgentCore/RITAAgentCoreRole/ImportRITAAgentCoreRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/RITAAgentCoreRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "bedrock.amazonaws.com"
                          }
                        },
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "bedrock-agentcore.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.150.0"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "RITAAgentCore/RITAAgentCoreRole/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAAgentCore/RITAAgentCoreRole/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "ecr:GetAuthorizationToken",
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "ecr:BatchCheckLayerAvailability",
                                "ecr:GetDownloadUrlForLayer",
                                "ecr:BatchGetImage"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "AgentCoreRuntimeRepo8E7ED701",
                                  "Arn"
                                ]
                              }
                            },
                            {
                              "Action": [
                                "logs:CreateLogGroup",
                                "logs:CreateLogStream",
                                "logs:PutLogEvents",
                                "logs:DescribeLogGroups",
                                "logs:DescribeLogStreams"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "xray:PutTraceSegments",
                                "xray:PutTelemetryRecords"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "bedrock:InvokeModel",
                                "bedrock:InvokeModelWithResponseStream",
                                "bedrock:Converse",
                                "bedrock:ConverseStream"
                              ],
                              "Effect": "Allow",
                              "Resource": [
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-pro-v1:0",
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-lite-v1:0",
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-micro-v1:0",
                                "arn:aws:bedrock:eu-central-1:542508027791:inference-profile/eu.amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-north-1::foundation-model/amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-west-1::foundation-model/amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-west-3::foundation-model/amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-south-1::foundation-model/amazon.nova-2-lite-v1:0",
                                "arn:aws:bedrock:eu-south-2::foundation-model/amazon.nova-2-lite-v1:0"
                              ]
                            },
                            {
                              "Action": [
                                "ce:GetCostAndUsage",
                                "ce:GetDimensionValues",
                                "ce:GetReservationCoverage",
                                "ce:GetReservationPurchaseRecommendation",
                                "ce:GetReservationUtilization",
                                "ce:GetRightsizingRecommendation",
                                "ce:GetSavingsPlansUtilization",
                                "ce:GetSavingsPlansUtilizationDetails",
                                "ce:GetUsageReport",
                                "ce:GetAnomalies",
                                "ce:GetAnomalyMonitors",
                                "ce:GetAnomalySubscriptions"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "compute-optimizer:GetEC2InstanceRecommendations",
                                "compute-optimizer:GetEC2RecommendationProjectedMetrics",
                                "compute-optimizer:GetAutoScalingGroupRecommendations",
                                "compute-optimizer:GetEBSVolumeRecommendations",
                                "compute-optimizer:GetLambdaFunctionRecommendations",
                                "compute-optimizer:GetEnrollmentStatus",
                                "compute-optimizer:GetRecommendationSummaries"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "ec2:DescribeInstances",
                                "ec2:DescribeVolumes",
                                "ec2:DescribeSnapshots",
                                "rds:DescribeDBInstances",
                                "rds:DescribeDBClusters",
                                "lambda:ListFunctions",
                                "lambda:GetFunctionConfiguration",
                                "lambda:GetFunctionConcurrency",
                                "autoscaling:DescribeAutoScalingGroups",
                                "s3:ListAllMyBuckets",
                                "s3:GetBucketLocation",
                                "s3:GetLifecycleConfiguration",
                                "s3:GetBucketTagging",
                                "cloudwatch:GetMetricStatistics"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "RITAAgentCoreRoleDefaultPolicy15653478",
                        "roles": [
                          {
                            "Ref": "RITAAgentCoreRoleC55009A6"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.150.0"
            }
          },
          "AgentCoreProvisionerFn": {
            "id": "AgentCoreProvisionerFn",
            "path": "RITAAgentCore/AgentCoreProvisionerFn",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "RITAAgentCore/AgentCoreProvisionerFn/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "RITAAgentCore/AgentCoreProvisionerFn/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAAgentCore/AgentCoreProvisionerFn/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAAgentCore/AgentCoreProvisionerFn/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAAgentCore/AgentCoreProvisionerFn/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "bedrock-agentcore:CreateGateway",
                                    "bedrock-agentcore:GetGateway",
                                    "bedrock-agentcore:UpdateGateway",
                                    "bedrock-agentcore:ListGateways",
                                    "bedrock-agentcore:CreateGatewayTarget",
                                    "bedrock-agentcore:ListGatewayTargets",
                                    "bedrock-agentcore:CreateAgentRuntime",
                                    "bedrock-agentcore:UpdateAgentRuntime",
                                    "bedrock-agentcore:ListAgentRuntimes",
                                    "bedrock-agentcore:CreateApiKeyCredentialProvider",
                                    "bedrock-agentcore:GetApiKeyCredentialProvider",
                                    "bedrock-agentcore:ListApiKeyCredentialProviders",
                                    "bedrock-agentcore:CreateWorkloadIdentity",
                                    "bedrock-agentcore:GetWorkloadIdentity",
                                    "bedrock-agentcore:ListWorkloadIdentities",
                                    "bedrock-agentcore:GetWorkloadIdentityDirectory",
                                    "bedrock-agentcore:GetTokenVault",
                                    "bedrock-agentcore:CreateTokenVault",
                                    "bedrock-agentcore:SetTokenVaultCMK"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": "bedrock-agentcore:*",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "secretsmanager:CreateSecret",
                                    "secretsmanager:PutSecretValue",
                                    "secretsmanager:TagResource",
                                    "secretsmanager:DescribeSecret",
                                    "secretsmanager:GetSecretValue",
                                    "secretsmanager:UpdateSecret",
                                    "secretsmanager:DeleteSecret"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": "iam:PassRole",
                                  "Condition": {
                                    "StringEquals": {
                                      "iam:PassedToService": [
                                        "bedrock.amazonaws.com",
                                        "bedrock-agentcore.amazonaws.com"
                                      ]
                                    }
                                  },
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "RITAAgentCoreRoleC55009A6",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "iam:CreateServiceLinkedRole",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "codebuild:StartBuild",
                                    "codebuild:BatchGetBuilds"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "AgentCoreRuntimeBuild34A1C5A6",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "AgentCoreProvisionerFnServiceRoleDefaultPolicy547FE586",
                            "roles": [
                              {
                                "Ref": "AgentCoreProvisionerFnServiceRole9D988185"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Code": {
                "id": "Code",
                "path": "RITAAgentCore/AgentCoreProvisionerFn/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "RITAAgentCore/AgentCoreProvisionerFn/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.150.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "RITAAgentCore/AgentCoreProvisionerFn/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentCoreProvisionerFn/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-542508027791-eu-central-1",
                      "s3Key": "3afde65093fe0f10faa245c867b4f884ace5b74a45f130969715cad27998d085.zip"
                    },
                    "handler": "handler.handler",
                    "role": {
                      "Fn::GetAtt": [
                        "AgentCoreProvisionerFnServiceRole9D988185",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.12",
                    "timeout": 600
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.150.0"
            }
          },
          "AgentCoreRuntimeRepo": {
            "id": "AgentCoreRuntimeRepo",
            "path": "RITAAgentCore/AgentCoreRuntimeRepo",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentCoreRuntimeRepo/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ECR::Repository",
                  "aws:cdk:cloudformation:props": {
                    "imageScanningConfiguration": {
                      "scanOnPush": true
                    },
                    "repositoryName": "rita-agentcore-runtime-542508027791-eu-central-1"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ecr.CfnRepository",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ecr.Repository",
              "version": "2.150.0"
            }
          },
          "AgentCoreProvider": {
            "id": "AgentCoreProvider",
            "path": "RITAAgentCore/AgentCoreProvider",
            "children": {
              "framework-onEvent": {
                "id": "framework-onEvent",
                "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent",
                "children": {
                  "ServiceRole": {
                    "id": "ServiceRole",
                    "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/ServiceRole",
                    "children": {
                      "ImportServiceRole": {
                        "id": "ImportServiceRole",
                        "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/ServiceRole/ImportServiceRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/ServiceRole/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "lambda.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "managedPolicyArns": [
                              {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                  ]
                                ]
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.150.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/ServiceRole/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "lambda:InvokeFunction",
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "AgentCoreProvisionerFn186D4095",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "AgentCoreProvisionerFn186D4095",
                                                  "Arn"
                                                ]
                                              },
                                              ":*"
                                            ]
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "AgentCoreProviderframeworkonEventServiceRoleDefaultPolicyE3EC5B07",
                                "roles": [
                                  {
                                    "Ref": "AgentCoreProviderframeworkonEventServiceRoleD38C2E62"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.150.0"
                    }
                  },
                  "Code": {
                    "id": "Code",
                    "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.150.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAAgentCore/AgentCoreProvider/framework-onEvent/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-542508027791-eu-central-1",
                          "s3Key": "d9861ea7a45affd23e47a614acb2fddc6e45c20a891284c958187dafbf9ee36b.zip"
                        },
                        "description": "AWS CDK resource provider framework - onEvent (RITAAgentCore/AgentCoreProvider)",
                        "environment": {
                          "variables": {
                            "USER_ON_EVENT_FUNCTION_ARN": {
                              "Fn::GetAtt": [
                                "AgentCoreProvisionerFn186D4095",
                                "Arn"
                              ]
                            }
                          }
                        },
                        "handler": "framework.onEvent",
                        "role": {
                          "Fn::GetAtt": [
                            "AgentCoreProviderframeworkonEventServiceRoleD38C2E62",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs20.x",
                        "timeout": 900
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.Function",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.custom_resources.Provider",
              "version": "2.150.0"
            }
          },
          "AgentCoreRuntimeSrc": {
            "id": "AgentCoreRuntimeSrc",
            "path": "RITAAgentCore/AgentCoreRuntimeSrc",
            "children": {
              "Stage": {
                "id": "Stage",
                "path": "RITAAgentCore/AgentCoreRuntimeSrc/Stage",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.150.0"
                }
              },
              "AssetBucket": {
                "id": "AssetBucket",
                "path": "RITAAgentCore/AgentCoreRuntimeSrc/AssetBucket",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
              "version": "2.150.0"
            }
          },
          "AgentCoreRuntimeBuild": {
            "id": "AgentCoreRuntimeBuild",
            "path": "RITAAgentCore/AgentCoreRuntimeBuild",
            "children": {
              "Role": {
                "id": "Role",
                "path": "RITAAgentCore/AgentCoreRuntimeBuild/Role",
                "children": {
                  "ImportRole": {
                    "id": "ImportRole",
                    "path": "RITAAgentCore/AgentCoreRuntimeBuild/Role/ImportRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAAgentCore/AgentCoreRuntimeBuild/Role/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "codebuild.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAAgentCore/AgentCoreRuntimeBuild/Role/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAAgentCore/AgentCoreRuntimeBuild/Role/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "logs:CreateLogGroup",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "AgentCoreRuntimeBuild34A1C5A6"
                                          }
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "AgentCoreRuntimeBuild34A1C5A6"
                                          },
                                          ":*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "codebuild:CreateReportGroup",
                                    "codebuild:CreateReport",
                                    "codebuild:UpdateReport",
                                    "codebuild:BatchPutTestCases",
                                    "codebuild:BatchPutCodeCoverages"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":codebuild:eu-central-1:542508027791:report-group/",
                                        {
                                          "Ref": "AgentCoreRuntimeBuild34A1C5A6"
                                        },
                                        "-*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:GetObject*",
                                    "s3:GetBucket*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1"
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "ecr:BatchCheckLayerAvailability",
                                    "ecr:GetDownloadUrlForLayer",
                                    "ecr:BatchGetImage",
                                    "ecr:CompleteLayerUpload",
                                    "ecr:UploadLayerPart",
                                    "ecr:InitiateLayerUpload",
                                    "ecr:PutImage"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "AgentCoreRuntimeRepo8E7ED701",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "ecr:GetAuthorizationToken",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "AgentCoreRuntimeBuildRoleDefaultPolicy62A072E8",
                            "roles": [
                              {
                                "Ref": "AgentCoreRuntimeBuildRoleC0423E9F"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentCoreRuntimeBuild/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CodeBuild::Project",
                  "aws:cdk:cloudformation:props": {
                    "artifacts": {
                      "type": "NO_ARTIFACTS"
                    },
                    "cache": {
                      "type": "NO_CACHE"
                    },
                    "encryptionKey": "alias/aws/s3",
                    "environment": {
                      "type": "LINUX_CONTAINER",
                      "image": "aws/codebuild/amazonlinux2-x86_64-standard:5.0",
                      "imagePullCredentialsType": "CODEBUILD",
                      "privilegedMode": true,
                      "computeType": "BUILD_GENERAL1_SMALL",
                      "environmentVariables": [
                        {
                          "name": "REPO_URI",
                          "type": "PLAINTEXT",
                          "value": {
                            "Fn::Join": [
                              "",
                              [
                                {
                                  "Fn::Select": [
                                    4,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "AgentCoreRuntimeRepo8E7ED701",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".dkr.ecr.",
                                {
                                  "Fn::Select": [
                                    3,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "AgentCoreRuntimeRepo8E7ED701",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".",
                                {
                                  "Ref": "AWS::URLSuffix"
                                },
                                "/",
                                {
                                  "Ref": "AgentCoreRuntimeRepo8E7ED701"
                                }
                              ]
                            ]
                          }
                        },
                        {
                          "name": "IMAGE_TAG",
                          "type": "PLAINTEXT",
                          "value": "9ba31c6419e8d72704a19fa58cd0b82cbb968625d087d75a5e2e94fa6fe2ccd2"
                        },
                        {
                          "name": "SRC_BUCKET",
                          "type": "PLAINTEXT",
                          "value": "cdk-hnb659fds-assets-542508027791-eu-central-1"
                        },
                        {
                          "name": "SRC_KEY",
                          "type": "PLAINTEXT",
                          "value": "9ba31c6419e8d72704a19fa58cd0b82cbb968625d087d75a5e2e94fa6fe2ccd2.zip"
                        },
                        {
                          "name": "AWS_REGION",
                          "type": "PLAINTEXT",
                          "value": "eu-central-1"
                        }
                      ]
                    },
                    "serviceRole": {
                      "Fn::GetAtt": [
                        "AgentCoreRuntimeBuildRoleC0423E9F",
                        "Arn"
                      ]
                    },
                    "source": {
                      "type": "NO_SOURCE",
                      "buildSpec": "{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"echo Logging into ECR\",\n        \"aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $REPO_URI\",\n        \"docker buildx create --use --name xbuilder || true\",\n        \"aws s3 cp s3://$SRC_BUCKET/$SRC_KEY src.zip\",\n        \"mkdir -p src && unzip -q src.zip -d src && cd src\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"docker buildx build --platform linux/arm64 -t $REPO_URI:$IMAGE_TAG --push .\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"**/*\"\n    ],\n    \"discard-paths\": \"yes\"\n  }\n}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codebuild.CfnProject",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_codebuild.Project",
              "version": "2.150.0"
            }
          },
          "RITAUserPool": {
            "id": "RITAUserPool",
            "path": "RITAAgentCore/RITAUserPool",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/RITAUserPool/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Cognito::UserPool",
                  "aws:cdk:cloudformation:props": {
                    "accountRecoverySetting": {
                      "recoveryMechanisms": [
                        {
                          "name": "verified_phone_number",
                          "priority": 1
                        },
                        {
                          "name": "verified_email",
                          "priority": 2
                        }
                      ]
                    },
                    "adminCreateUserConfig": {
                      "allowAdminCreateUserOnly": true
                    },
                    "autoVerifiedAttributes": [
                      "email"
                    ],
                    "emailVerificationMessage": "The verification code to your new account is {####}",
                    "emailVerificationSubject": "Verify your new account",
                    "smsVerificationMessage": "The verification code to your new account is {####}",
                    "usernameAttributes": [
                      "email"
                    ],
                    "verificationMessageTemplate": {
                      "defaultEmailOption": "CONFIRM_WITH_CODE",
                      "emailMessage": "The verification code to your new account is {####}",
                      "emailSubject": "Verify your new account",
                      "smsMessage": "The verification code to your new account is {####}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.CfnUserPool",
                  "version": "2.150.0"
                }
              },
              "RITACognitoDomain": {
                "id": "RITACognitoDomain",
                "path": "RITAAgentCore/RITAUserPool/RITACognitoDomain",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAAgentCore/RITAUserPool/RITACognitoDomain/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolDomain",
                      "aws:cdk:cloudformation:props": {
                        "domain": "rita-542508027791-eu-central-1",
                        "userPoolId": {
                          "Ref": "RITAUserPool9382A62A"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolDomain",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.UserPoolDomain",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.UserPool",
              "version": "2.150.0"
            }
          },
          "RITAUserPoolClient": {
            "id": "RITAUserPoolClient",
            "path": "RITAAgentCore/RITAUserPoolClient",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/RITAUserPoolClient/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolClient",
                  "aws:cdk:cloudformation:props": {
                    "allowedOAuthFlows": [
                      "implicit",
                      "code"
                    ],
                    "allowedOAuthFlowsUserPoolClient": true,
                    "allowedOAuthScopes": [
                      "profile",
                      "phone",
                      "email",
                      "openid",
                      "aws.cognito.signin.user.admin"
                    ],
                    "callbackUrLs": [
                      "https://example.com"
                    ],
                    "generateSecret": false,
                    "supportedIdentityProviders": [
                      "COGNITO"
                    ],
                    "userPoolId": {
                      "Ref": "RITAUserPool9382A62A"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolClient",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.UserPoolClient",
              "version": "2.150.0"
            }
          },
          "AgentCoreResource": {
            "id": "AgentCoreResource",
            "path": "RITAAgentCore/AgentCoreResource",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAAgentCore/AgentCoreResource/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResource",
              "version": "2.150.0"
            }
          },
          "GatewayId": {
            "id": "GatewayId",
            "path": "RITAAgentCore/GatewayId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "AgentAlias": {
            "id": "AgentAlias",
            "path": "RITAAgentCore/AgentAlias",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "RuntimeEndpointArn": {
            "id": "RuntimeEndpointArn",
            "path": "RITAAgentCore/RuntimeEndpointArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "AgentRuntimeId": {
            "id": "AgentRuntimeId",
            "path": "RITAAgentCore/AgentRuntimeId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "AgentRoleArn": {
            "id": "AgentRoleArn",
            "path": "RITAAgentCore/AgentRoleArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "CognitoUserPoolId": {
            "id": "CognitoUserPoolId",
            "path": "RITAAgentCore/CognitoUserPoolId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "CognitoUserPoolClientId": {
            "id": "CognitoUserPoolClientId",
            "path": "RITAAgentCore/CognitoUserPoolClientId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "CognitoDomain": {
            "id": "CognitoDomain",
            "path": "RITAAgentCore/CognitoDomain",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "AgentIdParam": {
            "id": "AgentIdParam",
            "path": "RITAAgentCore/AgentIdParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentIdParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/id",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "AgentCoreResource",
                        "GatewayId"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "AgentAliasParam": {
            "id": "AgentAliasParam",
            "path": "RITAAgentCore/AgentAliasParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentAliasParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/alias",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "AgentCoreResource",
                        "AgentAlias"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "AgentInvokeArnParam": {
            "id": "AgentInvokeArnParam",
            "path": "RITAAgentCore/AgentInvokeArnParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentInvokeArnParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/invoke-arn",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "AgentCoreResource",
                        "RuntimeEndpointArn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "AgentRuntimeIdParam": {
            "id": "AgentRuntimeIdParam",
            "path": "RITAAgentCore/AgentRuntimeIdParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentRuntimeIdParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/runtime-id",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "AgentCoreResource",
                        "AgentRuntimeId"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "AgentRoleArnParam": {
            "id": "AgentRoleArnParam",
            "path": "RITAAgentCore/AgentRoleArnParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentRoleArnParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/role-arn",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "RITAAgentCoreRoleC55009A6",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "AgentRuntimeVersionParam": {
            "id": "AgentRuntimeVersionParam",
            "path": "RITAAgentCore/AgentRuntimeVersionParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAAgentCore/AgentRuntimeVersionParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/agentcore/runtime-version",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "AgentCoreResource",
                        "AgentRuntimeVersion"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "RITAAgentCore/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAAgentCore/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.5"
            }
          },
          "Exports": {
            "id": "Exports",
            "path": "RITAAgentCore/Exports",
            "children": {
              "Output{\"Ref\":\"RITAUserPool9382A62A\"}": {
                "id": "Output{\"Ref\":\"RITAUserPool9382A62A\"}",
                "path": "RITAAgentCore/Exports/Output{\"Ref\":\"RITAUserPool9382A62A\"}",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.150.0"
                }
              },
              "Output{\"Ref\":\"RITAUserPoolClientA4D7BD72\"}": {
                "id": "Output{\"Ref\":\"RITAUserPoolClientA4D7BD72\"}",
                "path": "RITAAgentCore/Exports/Output{\"Ref\":\"RITAUserPoolClientA4D7BD72\"}",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.5"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "RITAAgentCore/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.150.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "RITAAgentCore/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.150.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.150.0"
        }
      },
      "RITAWorkflowAgent": {
        "id": "RITAWorkflowAgent",
        "path": "RITAWorkflowAgent",
        "children": {
          "WorkflowAgentRole": {
            "id": "WorkflowAgentRole",
            "path": "RITAWorkflowAgent/WorkflowAgentRole",
            "children": {
              "ImportWorkflowAgentRole": {
                "id": "ImportWorkflowAgentRole",
                "path": "RITAWorkflowAgent/WorkflowAgentRole/ImportWorkflowAgentRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "bedrock.amazonaws.com"
                          }
                        },
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "bedrock-agentcore.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.150.0"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "RITAWorkflowAgent/WorkflowAgentRole/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAWorkflowAgent/WorkflowAgentRole/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "ecr:GetAuthorizationToken",
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "ecr:BatchCheckLayerAvailability",
                                "ecr:GetDownloadUrlForLayer",
                                "ecr:BatchGetImage"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "WorkflowRuntimeRepo53D762AA",
                                  "Arn"
                                ]
                              }
                            },
                            {
                              "Action": [
                                "logs:CreateLogGroup",
                                "logs:CreateLogStream",
                                "logs:PutLogEvents",
                                "logs:DescribeLogGroups",
                                "logs:DescribeLogStreams"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "xray:PutTraceSegments",
                                "xray:PutTelemetryRecords"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "bedrock:InvokeModel",
                                "bedrock:InvokeModelWithResponseStream",
                                "bedrock:Converse",
                                "bedrock:ConverseStream"
                              ],
                              "Effect": "Allow",
                              "Resource": [
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-pro-v1:0",
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-lite-v1:0",
                                "arn:aws:bedrock:eu-central-1::foundation-model/amazon.nova-micro-v1:0"
                              ]
                            },
                            {
                              "Action": [
                                "ec2:DescribeInstances",
                                "ec2:DescribeVolumes",
                                "ec2:DescribeSnapshots",
                                "ec2:StopInstances",
                                "ec2:StartInstances",
                                "ec2:ModifyInstanceAttribute",
                                "ec2:ModifyVolume",
                                "cloudwatch:GetMetricStatistics",
                                "cloudwatch:PutMetricData"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "s3:ListAllMyBuckets",
                                "s3:GetBucketLocation",
                                "s3:GetLifecycleConfiguration",
                                "s3:PutLifecycleConfiguration"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "lambda:ListFunctions",
                                "lambda:GetFunctionConcurrency",
                                "lambda:PutFunctionConcurrency",
                                "lambda:UpdateFunctionConfiguration"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            },
                            {
                              "Action": [
                                "rds:DescribeDBInstances",
                                "rds:DescribeDBClusters",
                                "rds:ModifyDBInstance"
                              ],
                              "Effect": "Allow",
                              "Resource": "*"
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "WorkflowAgentRoleDefaultPolicyD2923724",
                        "roles": [
                          {
                            "Ref": "WorkflowAgentRoleD59FB3D6"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentProvisionerFn": {
            "id": "WorkflowAgentProvisionerFn",
            "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "bedrock-agentcore:CreateGateway",
                                    "bedrock-agentcore:GetGateway",
                                    "bedrock-agentcore:UpdateGateway",
                                    "bedrock-agentcore:ListGateways",
                                    "bedrock-agentcore:CreateGatewayTarget",
                                    "bedrock-agentcore:ListGatewayTargets",
                                    "bedrock-agentcore:CreateAgentRuntime",
                                    "bedrock-agentcore:UpdateAgentRuntime",
                                    "bedrock-agentcore:ListAgentRuntimes",
                                    "bedrock-agentcore:CreateApiKeyCredentialProvider",
                                    "bedrock-agentcore:GetApiKeyCredentialProvider",
                                    "bedrock-agentcore:ListApiKeyCredentialProviders",
                                    "bedrock-agentcore:CreateWorkloadIdentity",
                                    "bedrock-agentcore:GetWorkloadIdentity",
                                    "bedrock-agentcore:ListWorkloadIdentities",
                                    "bedrock-agentcore:GetWorkloadIdentityDirectory",
                                    "bedrock-agentcore:GetTokenVault",
                                    "bedrock-agentcore:CreateTokenVault",
                                    "bedrock-agentcore:SetTokenVaultCMK"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": "bedrock-agentcore:*",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "secretsmanager:CreateSecret",
                                    "secretsmanager:PutSecretValue",
                                    "secretsmanager:TagResource",
                                    "secretsmanager:DescribeSecret",
                                    "secretsmanager:GetSecretValue",
                                    "secretsmanager:UpdateSecret",
                                    "secretsmanager:DeleteSecret"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": "iam:PassRole",
                                  "Condition": {
                                    "StringEquals": {
                                      "iam:PassedToService": [
                                        "bedrock.amazonaws.com",
                                        "bedrock-agentcore.amazonaws.com"
                                      ]
                                    }
                                  },
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "WorkflowAgentRoleD59FB3D6",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "iam:CreateServiceLinkedRole",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                },
                                {
                                  "Action": [
                                    "codebuild:StartBuild",
                                    "codebuild:BatchGetBuilds"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "WorkflowRuntimeBuildA1D0C73C",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "WorkflowAgentProvisionerFnServiceRoleDefaultPolicy2F9A7664",
                            "roles": [
                              {
                                "Ref": "WorkflowAgentProvisionerFnServiceRoleAC00A7E0"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Code": {
                "id": "Code",
                "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.150.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentProvisionerFn/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-542508027791-eu-central-1",
                      "s3Key": "3afde65093fe0f10faa245c867b4f884ace5b74a45f130969715cad27998d085.zip"
                    },
                    "handler": "handler.handler",
                    "role": {
                      "Fn::GetAtt": [
                        "WorkflowAgentProvisionerFnServiceRoleAC00A7E0",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.12",
                    "timeout": 600
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.150.0"
            }
          },
          "WorkflowRuntimeRepo": {
            "id": "WorkflowRuntimeRepo",
            "path": "RITAWorkflowAgent/WorkflowRuntimeRepo",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowRuntimeRepo/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ECR::Repository",
                  "aws:cdk:cloudformation:props": {
                    "imageScanningConfiguration": {
                      "scanOnPush": true
                    },
                    "repositoryName": "rita-workflow-runtime-542508027791-eu-central-1"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ecr.CfnRepository",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ecr.Repository",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentProvider": {
            "id": "WorkflowAgentProvider",
            "path": "RITAWorkflowAgent/WorkflowAgentProvider",
            "children": {
              "framework-onEvent": {
                "id": "framework-onEvent",
                "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent",
                "children": {
                  "ServiceRole": {
                    "id": "ServiceRole",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/ServiceRole",
                    "children": {
                      "ImportServiceRole": {
                        "id": "ImportServiceRole",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/ServiceRole/ImportServiceRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.150.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/ServiceRole/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "lambda.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "managedPolicyArns": [
                              {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                  ]
                                ]
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.150.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/ServiceRole/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "lambda:InvokeFunction",
                                      "Effect": "Allow",
                                      "Resource": [
                                        {
                                          "Fn::GetAtt": [
                                            "WorkflowAgentProvisionerFn75D3AE41",
                                            "Arn"
                                          ]
                                        },
                                        {
                                          "Fn::Join": [
                                            "",
                                            [
                                              {
                                                "Fn::GetAtt": [
                                                  "WorkflowAgentProvisionerFn75D3AE41",
                                                  "Arn"
                                                ]
                                              },
                                              ":*"
                                            ]
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "WorkflowAgentProviderframeworkonEventServiceRoleDefaultPolicyB71311C2",
                                "roles": [
                                  {
                                    "Ref": "WorkflowAgentProviderframeworkonEventServiceRole86D6FF60"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.150.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.150.0"
                    }
                  },
                  "Code": {
                    "id": "Code",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.150.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAWorkflowAgent/WorkflowAgentProvider/framework-onEvent/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-542508027791-eu-central-1",
                          "s3Key": "d9861ea7a45affd23e47a614acb2fddc6e45c20a891284c958187dafbf9ee36b.zip"
                        },
                        "description": "AWS CDK resource provider framework - onEvent (RITAWorkflowAgent/WorkflowAgentProvider)",
                        "environment": {
                          "variables": {
                            "USER_ON_EVENT_FUNCTION_ARN": {
                              "Fn::GetAtt": [
                                "WorkflowAgentProvisionerFn75D3AE41",
                                "Arn"
                              ]
                            }
                          }
                        },
                        "handler": "framework.onEvent",
                        "role": {
                          "Fn::GetAtt": [
                            "WorkflowAgentProviderframeworkonEventServiceRole86D6FF60",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs20.x",
                        "timeout": 900
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.Function",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.custom_resources.Provider",
              "version": "2.150.0"
            }
          },
          "WorkflowRuntimeSrc": {
            "id": "WorkflowRuntimeSrc",
            "path": "RITAWorkflowAgent/WorkflowRuntimeSrc",
            "children": {
              "Stage": {
                "id": "Stage",
                "path": "RITAWorkflowAgent/WorkflowRuntimeSrc/Stage",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.150.0"
                }
              },
              "AssetBucket": {
                "id": "AssetBucket",
                "path": "RITAWorkflowAgent/WorkflowRuntimeSrc/AssetBucket",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
              "version": "2.150.0"
            }
          },
          "WorkflowRuntimeBuild": {
            "id": "WorkflowRuntimeBuild",
            "path": "RITAWorkflowAgent/WorkflowRuntimeBuild",
            "children": {
              "Role": {
                "id": "Role",
                "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Role",
                "children": {
                  "ImportRole": {
                    "id": "ImportRole",
                    "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Role/ImportRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.150.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Role/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "codebuild.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.150.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Role/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Role/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "logs:CreateLogGroup",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "WorkflowRuntimeBuildA1D0C73C"
                                          }
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":logs:eu-central-1:542508027791:log-group:/aws/codebuild/",
                                          {
                                            "Ref": "WorkflowRuntimeBuildA1D0C73C"
                                          },
                                          ":*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "codebuild:CreateReportGroup",
                                    "codebuild:CreateReport",
                                    "codebuild:UpdateReport",
                                    "codebuild:BatchPutTestCases",
                                    "codebuild:BatchPutCodeCoverages"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":codebuild:eu-central-1:542508027791:report-group/",
                                        {
                                          "Ref": "WorkflowRuntimeBuildA1D0C73C"
                                        },
                                        "-*"
                                      ]
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "s3:GetObject*",
                                    "s3:GetBucket*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1"
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":s3:::cdk-hnb659fds-assets-542508027791-eu-central-1/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "ecr:BatchCheckLayerAvailability",
                                    "ecr:GetDownloadUrlForLayer",
                                    "ecr:BatchGetImage",
                                    "ecr:CompleteLayerUpload",
                                    "ecr:UploadLayerPart",
                                    "ecr:InitiateLayerUpload",
                                    "ecr:PutImage"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "WorkflowRuntimeRepo53D762AA",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": "ecr:GetAuthorizationToken",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "WorkflowRuntimeBuildRoleDefaultPolicyD9E472D6",
                            "roles": [
                              {
                                "Ref": "WorkflowRuntimeBuildRole92537A05"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.150.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.150.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.150.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowRuntimeBuild/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CodeBuild::Project",
                  "aws:cdk:cloudformation:props": {
                    "artifacts": {
                      "type": "NO_ARTIFACTS"
                    },
                    "cache": {
                      "type": "NO_CACHE"
                    },
                    "encryptionKey": "alias/aws/s3",
                    "environment": {
                      "type": "LINUX_CONTAINER",
                      "image": "aws/codebuild/amazonlinux2-x86_64-standard:5.0",
                      "imagePullCredentialsType": "CODEBUILD",
                      "privilegedMode": true,
                      "computeType": "BUILD_GENERAL1_SMALL",
                      "environmentVariables": [
                        {
                          "name": "REPO_URI",
                          "type": "PLAINTEXT",
                          "value": {
                            "Fn::Join": [
                              "",
                              [
                                {
                                  "Fn::Select": [
                                    4,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "WorkflowRuntimeRepo53D762AA",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".dkr.ecr.",
                                {
                                  "Fn::Select": [
                                    3,
                                    {
                                      "Fn::Split": [
                                        ":",
                                        {
                                          "Fn::GetAtt": [
                                            "WorkflowRuntimeRepo53D762AA",
                                            "Arn"
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                ".",
                                {
                                  "Ref": "AWS::URLSuffix"
                                },
                                "/",
                                {
                                  "Ref": "WorkflowRuntimeRepo53D762AA"
                                }
                              ]
                            ]
                          }
                        },
                        {
                          "name": "IMAGE_TAG",
                          "type": "PLAINTEXT",
                          "value": "ae1defa6113b8628fbbb81748221a3c005035ebd8cb234aaddb6e246d4ef304f"
                        },
                        {
                          "name": "SRC_BUCKET",
                          "type": "PLAINTEXT",
                          "value": "cdk-hnb659fds-assets-542508027791-eu-central-1"
                        },
                        {
                          "name": "SRC_KEY",
                          "type": "PLAINTEXT",
                          "value": "ae1defa6113b8628fbbb81748221a3c005035ebd8cb234aaddb6e246d4ef304f.zip"
                        },
                        {
                          "name": "AWS_REGION",
                          "type": "PLAINTEXT",
                          "value": "eu-central-1"
                        }
                      ]
                    },
                    "serviceRole": {
                      "Fn::GetAtt": [
                        "WorkflowRuntimeBuildRole92537A05",
                        "Arn"
                      ]
                    },
                    "source": {
                      "type": "NO_SOURCE",
                      "buildSpec": "{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"echo Logging into ECR\",\n        \"aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $REPO_URI\",\n        \"docker buildx create --use --name xbuilder || true\",\n        \"aws s3 cp s3://$SRC_BUCKET/$SRC_KEY src.zip\",\n        \"mkdir -p src && unzip -q src.zip -d src && cd src\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"docker buildx build --platform linux/arm64 -t $REPO_URI:$IMAGE_TAG --push .\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"**/*\"\n    ],\n    \"discard-paths\": \"yes\"\n  }\n}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_codebuild.CfnProject",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_codebuild.Project",
              "version": "2.150.0"
            }
          },
          "ExistingUserPool": {
            "id": "ExistingUserPool",
            "path": "RITAWorkflowAgent/ExistingUserPool",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.150.0"
            }
          },
          "ExistingUserPoolClient": {
            "id": "ExistingUserPoolClient",
            "path": "RITAWorkflowAgent/ExistingUserPoolClient",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentResource": {
            "id": "WorkflowAgentResource",
            "path": "RITAWorkflowAgent/WorkflowAgentResource",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAWorkflowAgent/WorkflowAgentResource/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResource",
              "version": "2.150.0"
            }
          },
          "WorkflowGatewayId": {
            "id": "WorkflowGatewayId",
            "path": "RITAWorkflowAgent/WorkflowGatewayId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentAlias": {
            "id": "WorkflowAgentAlias",
            "path": "RITAWorkflowAgent/WorkflowAgentAlias",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "WorkflowRuntimeEndpointArn": {
            "id": "WorkflowRuntimeEndpointArn",
            "path": "RITAWorkflowAgent/WorkflowRuntimeEndpointArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentRuntimeId": {
            "id": "WorkflowAgentRuntimeId",
            "path": "RITAWorkflowAgent/WorkflowAgentRuntimeId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentRoleArn": {
            "id": "WorkflowAgentRoleArn",
            "path": "RITAWorkflowAgent/WorkflowAgentRoleArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentIdParam": {
            "id": "WorkflowAgentIdParam",
            "path": "RITAWorkflowAgent/WorkflowAgentIdParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentIdParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/id",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentResource",
                        "GatewayId"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentAliasParam": {
            "id": "WorkflowAgentAliasParam",
            "path": "RITAWorkflowAgent/WorkflowAgentAliasParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentAliasParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/alias",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentResource",
                        "AgentAlias"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentInvokeArnParam": {
            "id": "WorkflowAgentInvokeArnParam",
            "path": "RITAWorkflowAgent/WorkflowAgentInvokeArnParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentInvokeArnParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/invoke-arn",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentResource",
                        "RuntimeEndpointArn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentRuntimeIdParam": {
            "id": "WorkflowAgentRuntimeIdParam",
            "path": "RITAWorkflowAgent/WorkflowAgentRuntimeIdParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentRuntimeIdParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/runtime-id",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentResource",
                        "AgentRuntimeId"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentRoleArnParam": {
            "id": "WorkflowAgentRoleArnParam",
            "path": "RITAWorkflowAgent/WorkflowAgentRoleArnParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentRoleArnParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/role-arn",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentRoleD59FB3D6",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "WorkflowAgentRuntimeVersionParam": {
            "id": "WorkflowAgentRuntimeVersionParam",
            "path": "RITAWorkflowAgent/WorkflowAgentRuntimeVersionParam",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "RITAWorkflowAgent/WorkflowAgentRuntimeVersionParam/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "name": "/rita/workflow-agent/runtime-version",
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "WorkflowAgentResource",
                        "AgentRuntimeVersion"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.150.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "RITAWorkflowAgent/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "RITAWorkflowAgent/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.150.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.4.5"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "RITAWorkflowAgent/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.150.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "RITAWorkflowAgent/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.150.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.150.0"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.4.5"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.150.0"
    }
  }
}